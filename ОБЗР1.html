<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–º–∏–∫—Å: –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .messenger-container {
            width: 100%;
            max-width: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 90vh;
            max-height: 800px;
        }

        .messenger-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            font-weight: 600;
            font-size: 18px;
        }

        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f0f2f5;
        }

        .message {
            margin-bottom: 15px;
            animation: slideIn 0.3s ease-out;
            display: flex;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.sent {
            justify-content: flex-end;
        }

        .message.received {
            justify-content: flex-start;
        }

        .message-bubble {
            max-width: 75%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
            position: relative;
        }

        .message.sent .message-bubble {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.received .message-bubble {
            background: white;
            color: #333;
            border-bottom-left-radius: 4px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .message-time {
            font-size: 11px;
            color: #999;
            margin-top: 4px;
            text-align: right;
        }

        .message.received .message-time {
            text-align: left;
        }

        .input-area {
            padding: 15px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        .input-container {
            display: flex;
            gap: 10px;
        }

        .rating-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .rating-btn {
            flex: 1;
            min-width: 80px;
            padding: 12px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .rating-btn:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }

        .hidden {
            display: none;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
            background: white;
            border-radius: 18px;
            width: fit-content;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #999;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .emoji {
            font-size: 24px;
            margin: 0 4px;
        }
    </style>
</head>
<body>
    <div class="messenger-container">
        <div class="messenger-header">
            üí¨ –î–∏–∞–ª–æ–≥: –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
        </div>
        <div class="messages-container" id="messagesContainer">
            <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
        <div class="input-area" id="inputArea">
            <div class="input-container">
                <div class="rating-buttons" id="ratingButtons">
                    <!-- –ö–Ω–æ–ø–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ—è–≤—è—Ç—Å—è –ø–æ–∑–∂–µ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        const messages = [
            { text: "–ü—Ä–∏–≤–µ—Ç! –°–ª—É—à–∞–π, —É –Ω–∞—Å —Ç—É—Ç –Ω–µ–±–æ–ª—å—à–∞—è –ø—Ä–æ–±–ª–µ–º–∞...", sender: "received", delay: 1000 },
            { text: "–ü—Ä–∏–≤–µ—Ç! –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?", sender: "sent", delay: 2000 },
            { text: "–¢—ã –æ–±–µ—â–∞–ª –ø–æ–º–æ—á—å –º–Ω–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º, –Ω–æ —Ç–∞–∫ –∏ –Ω–µ –ø–æ—è–≤–∏–ª—Å—è. –Ø –ø—Ä–æ–∂–¥–∞–ª —Ç–µ–±—è —Ü–µ–ª—ã–π —á–∞—Å!", sender: "received", delay: 3000 },
            { text: "–û–π, –∏–∑–≤–∏–Ω–∏! –£ –º–µ–Ω—è —Å—Ä–æ—á–Ω—ã–µ –¥–µ–ª–∞ –±—ã–ª–∏, –∑–∞–±—ã–ª –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å...", sender: "sent", delay: 4000 },
            { text: "–ó–∞–±—ã–ª?! –≠—Ç–æ —É–∂–µ –≤—Ç–æ—Ä–æ–π —Ä–∞–∑! –¢—ã –≤–æ–æ–±—â–µ —Å—á–∏—Ç–∞–µ—à—å—Å—è —Å –º–æ–∏–º –≤—Ä–µ–º–µ–Ω–µ–º?", sender: "received", delay: 5000 },
            { text: "–°–ª—É—à–∞–π, –Ω–µ –Ω—É–∂–Ω–æ —Ç–∞–∫ —Ä–µ–∑–∫–æ. –Ø –∂–µ –∏–∑–≤–∏–Ω–∏–ª—Å—è!", sender: "sent", delay: 6000 },
            { text: "–ò–∑–≤–∏–Ω–∏–ª—Å—è? –≠—Ç–æ –Ω–µ –∏–∑–≤–∏–Ω–µ–Ω–∏–µ, —ç—Ç–æ –æ—Ç–≥–æ–≤–æ—Ä–∫–∞!", sender: "received", delay: 7000 },
            { text: "–•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π –æ—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è. –Ø –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –ø–æ–¥–≤–µ–ª —Ç–µ–±—è, –∏ –º–Ω–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∂–∞–ª—å.", sender: "sent", delay: 8000 },
            { text: "–î–∞–≤–∞–π —è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º, –∏ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂—É –∑–∞—Ä–∞–Ω–µ–µ, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è.", sender: "sent", delay: 9000 },
            { text: "–•–º... –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø—Ä–∏–∑–Ω–∞–ª –æ—à–∏–±–∫—É. –≠—Ç–æ –≤–∞–∂–Ω–æ.", sender: "received", delay: 10000 },
            { text: "–ö–æ–Ω–µ—á–Ω–æ! –Ø —Ü–µ–Ω—é —Ç–≤–æ–µ –≤—Ä–µ–º—è –∏ –Ω–∞—à—É –¥—Ä—É–∂–±—É. –î–∞–≤–∞–π –¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è: –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫, —è —Å—Ä–∞–∑—É –Ω–∞–ø–∏—à—É –∏–ª–∏ –ø–æ–∑–≤–æ–Ω—é.", sender: "sent", delay: 11000 },
            { text: "–•–æ—Ä–æ—à–æ, –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å. –ò —è —Ç–æ–∂–µ –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –±—ã—Ç—å –±–æ–ª–µ–µ —Ç–µ—Ä–ø–µ–ª–∏–≤—ã–º. –î–∞–≤–∞–π –Ω–∞—á–Ω–µ–º —Ä–∞–±–æ—Ç—É?", sender: "received", delay: 12000 },
            { text: "–û—Ç–ª–∏—á–Ω–æ! –ù–∞—á–∏–Ω–∞–µ–º! üòä", sender: "sent", delay: 13000 },
            { text: "–ö—Å—Ç–∞—Ç–∏, –∞ –∫–∞–∫—É—é –æ—Ü–µ–Ω–∫—É —Ç—ã –±—ã –ø–æ—Å—Ç–∞–≤–∏–ª —ç—Ç–æ–º—É –¥–∏–∞–ª–æ–≥—É? –ú—ã —Å–º–æ–≥–ª–∏ –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ—Ç–∫—Ä—ã—Ç–æ–º—É –æ–±—â–µ–Ω–∏—é –∏ –≤–∑–∞–∏–º–Ω–æ–º—É —É–≤–∞–∂–µ–Ω–∏—é.", sender: "received", delay: 14000 },
        ];

        let currentMessageIndex = 0;
        const messagesContainer = document.getElementById('messagesContainer');
        const inputArea = document.getElementById('inputArea');
        const ratingButtons = document.getElementById('ratingButtons');

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';
            bubble.textContent = text;
            
            const time = document.createElement('div');
            time.className = 'message-time';
            const now = new Date();
            time.textContent = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            messageDiv.appendChild(bubble);
            bubble.appendChild(time);
            messagesContainer.appendChild(messageDiv);
            
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message received';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        function showRatingButtons() {
            ratingButtons.innerHTML = '';
            const ratings = [
                { value: 5, emoji: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê', text: '5' },
                { value: 4, emoji: '‚≠ê‚≠ê‚≠ê‚≠ê', text: '4' },
                { value: 3, emoji: '‚≠ê‚≠ê‚≠ê', text: '3' },
                { value: 2, emoji: '‚≠ê‚≠ê', text: '2' },
                { value: 1, emoji: '‚≠ê', text: '1' }
            ];

            ratings.forEach(rating => {
                const btn = document.createElement('button');
                btn.className = 'rating-btn';
                btn.innerHTML = `${rating.emoji} ${rating.text}`;
                btn.onclick = () => handleRating(rating.value);
                ratingButtons.appendChild(btn);
            });
        }

        function handleRating(rating) {
            hideTypingIndicator();
            addMessage(`–Ø —Å—Ç–∞–≤–ª—é –æ—Ü–µ–Ω–∫—É ${rating}`, 'sent');
            
            setTimeout(() => {
                showTypingIndicator();
                setTimeout(() => {
                    hideTypingIndicator();
                    let response = '';
                    
                    if (rating >= 4) {
                        response = `–°–ø–∞—Å–∏–±–æ –∑–∞ –≤—ã—Å–æ–∫—É—é –æ—Ü–µ–Ω–∫—É! –Ø —Ä–∞–¥, —á—Ç–æ –¥–∏–∞–ª–æ–≥ –ø–æ–ª—É—á–∏–ª—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–º. –ì–ª–∞–≤–Ω–æ–µ - –º—ã —Å–º–æ–≥–ª–∏ –Ω–∞–π—Ç–∏ –æ–±—â–∏–π —è–∑—ã–∫ –∏ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞!`;
                    } else if (rating === 3) {
                        response = `–ü–æ–Ω—è—Ç–Ω–æ, –µ—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å. –°–ø–∞—Å–∏–±–æ –∑–∞ —á–µ—Å—Ç–Ω—É—é –æ—Ü–µ–Ω–∫—É! –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –±—ã—Ç—å –±–æ–ª–µ–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ–ª—å–Ω—ã–º.`;
                    } else if(rating === 2){
                        response = `2? üòí`;
                    } else{
                        response = `??? üòí`;
                    }
                    
                    addMessage(response, 'received');
                    
                    setTimeout(() => {
                        addMessage('–°–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ —ç—Ç–æ–º –¥–∏–∞–ª–æ–≥–µ! –ù–∞–¥–µ—é—Å—å, –º—ã –æ–±–∞ –∏–∑–≤–ª–µ–∫–ª–∏ —É—Ä–æ–∫ –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –æ–±—â–µ–Ω–∏—è. üôè', 'received');
                    }, 2000);
                }, 1500);
            }, 500);
            
            ratingButtons.innerHTML = '';
        }

        function displayMessages() {
            if (currentMessageIndex < messages.length) {
                const message = messages[currentMessageIndex];
                
                setTimeout(() => {
                    addMessage(message.text, message.sender);
                    currentMessageIndex++;
                    
                    if (currentMessageIndex === messages.length) {
                        setTimeout(() => {
                            showRatingButtons();
                        }, 1000);
                    } else {
                        displayMessages();
                    }
                }, message.delay);
            }
        }

        // –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏–π
        displayMessages();
    </script>
</body>
</html>

